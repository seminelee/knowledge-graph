# 1 Blob

 [为什么视频网站的视频链接地址是blob？](https://juejin.im/post/5d1ea7a8e51d454fd8057bea )

## 1.1 Blob 是什么

 最早是数据库直接用Blob来存储二进制数据对象，这样就不用关注存储数据的格式了。在web领域，Blob对象表示一个只读原始数据的类文件对象，虽然是二进制原始数据但是类似文件的对象，因此可以像操作文件对象一样操作Blob对象。 

``` js
const objectURL = URL.createObjectURL(object); //blob:http://localhost:1234/abcedfgh-1234-1234-1234-abcdefghijkl
```

 这里的object参数是用于创建URL的File对象、Blob 对象或者 MediaSource 对象，生成的链接就是以blob:开头的一段地址，表示指向的是一个二进制数据。 

可以用于防爬虫

## 1.2 HLS和MPEG DASH

 HLS （HTTP Live Streaming）, 是由 Apple 公司实现的基于 HTTP 的媒体流传输协议。 

DASH（Dynamic Adaptive Streaming over HTTP） ，是一种在互联网上传送动态码率的Video Streaming技术，类似于苹果的HLS，DASH会通过media presentation description (MPD)将视频内容切片成一个很短的文件片段，每个切片都有多个不同的码率，DASH Client可以根据网络的情况选择一个码率进行播放，支持在不同码率之间无缝切换。

## 1.3 利用`MediaSource`实现续点续传

基本流程就是通过`URL.createObjectURL`创建容器的BLob URL，设置到`video`标签的`src`上，在播放过程中，我们请求视频数据，通过`MediaSource.appendBuffer`方法往容器里添加数据，达到更新视频内容的目的。 





# 视频

你做过直播，能介绍一下 webRTC 或者现在使用直播方案吗

- 虽然我是使用声网的 SDK，但是大概了解过一般直播的直播方案
- 讲了一下 NAT、STUN、RTP、SDP 的基本概论
- 然后两个信令服务器，一个是声网用来控制进房间媒体流的 socket，一个是业务逻辑的 socket

编码方面有了解过吗，能解释一下码率吗

对于 P 帧、I 帧、B 帧有了解过

- I 帧：关键帧。可以单独解码成一幅完整的图像。
- P 帧：参考帧。解码时依赖于前面已解码的数据
- B 帧：前后参考帧 B 帧后面的 P 帧要优先于它进行解码，然后才能将 B 帧解码

RGB 和 YUV 区别

有了解过哪些直播协议

- httpflv 传输方式：http 流，格式：flv，连续流
- rtmp 传输方式：tcp 流，格式：flv，连续流
- hls 传输方式：http，格式：TS 文件，移动端兼容但 PC 不兼容
- dash 这个不太常见只知道传送方式是 http

flv 和 mp4 区别有了解过吗

- 他们都是属于容器，区别在于文件头信息
- flv 是属于流式文件是可以边传边解的，不需要通过索引分包，但是 mp4 是需要依赖索引表

MediaSource 规范有了解过

- 没怎么了解，但是还是扯了一下不同码率视频切换是怎么做的

